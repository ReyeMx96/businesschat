<ion-header>
    <ion-toolbar class="glass-toolbar" color="light" *ngIf="!isLargeScreen" style="height: 38px;" mode="md">
    </ion-toolbar>

  <ion-toolbar  class="glass-toolbar"  color="light" style="box-shadow: 0px;" mode="md">
    <ion-buttons style="color: #000;" slot="start">
    <ion-menu-button style="color:black"></ion-menu-button>
    </ion-buttons>

    <ion-select style="display: none;" id="selectChange" (ionChange)="selectOption($event)">
      <ion-select-option *ngFor="let option of arrayNumbers" [value]="option">{{ option }}</ion-select-option>
    </ion-select>

    <ion-buttons slot="start" style="display: none;">   <img src="../assets/icon/icon-384x384.png"  
       routerLink="/home" style="height: 38px; width: 42px;" alt="Snow" ></ion-buttons>

          <ion-title *ngIf="businessFinal.toString() === '5218332367397'" (click)="getOptions()" style="font-size:21px;;margin-top: 3px;font-weight: bold;"> 
    
      Abe Abe Germinal<ion-icon name="chevron-down-circle-outline" style="font-size: 16px;color: #000;"></ion-icon>
      </ion-title>

    <ion-title *ngIf="businessFinal.toString() === '5218333861194'" (click)="getOptions()" style="font-size:21px;;margin-top: 3px;font-weight: bold;"> 
    
      Michelotes <ion-icon name="chevron-down-circle-outline" style="font-size: 16px;color: #000;"></ion-icon>
      </ion-title>
  <ion-title *ngIf="businessFinal.toString() === '5218334460818'" (click)="getOptions()" style="font-size:21px;;margin-top: 3px;font-weight: bold;"> 
    
      Toyama <ion-icon name="chevron-down-circle-outline" style="font-size: 16px;color: #000;"></ion-icon>
      </ion-title>
  <ion-title *ngIf="businessFinal.toString() === '5218331054842'" (click)="getOptions()" style="font-size:21px;;margin-top: 3px;font-weight: bold;"> 
    
      Reczon Cotizador <ion-icon name="chevron-down-circle-outline" style="font-size: 16px;color: #000;"></ion-icon>
      </ion-title>
        <ion-title *ngIf="businessFinal.toString() === '5218333096367'" (click)="getOptions()" style="font-size:21px;;margin-top: 3px;font-weight: bold;"> 
    
      Tortas Lalo <ion-icon name="chevron-down-circle-outline" style="font-size: 16px;color: #000;"></ion-icon>
      </ion-title>

    <ion-buttons style="display: none;" (click)="getOptions()" slot="start">
      <ion-button>

        <ion-icon name="sync-circle-outline" style="font-size: 30px;"></ion-icon>

      </ion-button>

      </ion-buttons>
    
    <ion-buttons routerLink="/tabs/clientes" style="padding-right:8px" slot="end" >
      <ion-button>
        <ion-icon name="search" style="color: black;" >
        
        </ion-icon>
              </ion-button>
    </ion-buttons>

    <ion-buttons  slot="end" >
      <ion-button>
        <ion-icon style="color: #000;" name="ellipsis-vertical" >
        
        </ion-icon>
              </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true"  style="--background: #fff;">



<!-- <button (click)="getStatus()">Estado</button>
<br>

<button (click)="getFunctions()">Funciones</button>
<br>

<button (click)="getDeviceInfo()">Info</button>
<br>

<button (click)="getAllDevices()">Listar</button>
<br> -->

<!-- <button (click)="rebootDevice()">Reiniciar</button>
<br>

<button (click)="removeDevice()">Eliminar</button>
<br> -->


  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
 <ion-searchbar 
    routerLink="/tabs/clientes"
 
 (ionChange)="searchSort($event)" style="color: rgb(0, 0, 0);" placeholder="Buscar.." >
  
  </ion-searchbar>
  <div style="display: none;"  class="price-container">
    <div *ngFor="let item of arrayTags;" class="price-tag">{{item.Name}}</div>
   
</div>

  <ion-fab (click)="addContact()" vertical="bottom" style="margin-bottom: 85px;"  horizontal="end" slot="fixed">
    <ion-fab-button style="height: 60px;width: 60px;">
      <img src="../../../assets/icon/bubble.png" style="width: 35px;height: 35px;">
      
    </ion-fab-button>
  </ion-fab>

  <ion-list *ngIf="menuLength === 0">

    <ion-item >
      <ion-label>
        <ion-skeleton-text color="light" animated class="my-skeleton" style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 80%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 60%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 90%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 90%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 90%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 90%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 90%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 90%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-skeleton-text animated class="my-skeleton" style="width: 90%"></ion-skeleton-text>
      </ion-label>
    </ion-item>

  </ion-list>

  <ion-list *ngIf="menuLength !== 0" color="light" style="padding: 6px;background: #fff;" st id="inbox-list">
      
          <div   (click)="removeGreen(p)" *ngFor="let p of menuOptionsCache; let i = index; trackBy: trackByContact">
            
            <div class="ion-activatable ripple-parent rounded-rectangle" style="margin-top: 10px;">
              <ion-grid style="background: #fff;">
                <ion-row (click)="goChat(p.to)">
               
           
                  <ion-col size="2.1" size-md="1.5" size-lg="1.5" style="padding: 0px;text-align: center;">

                 <div 
class="avatar"
  [ngStyle]="{
    'background-color': getColor(p.Nombre)
  }"
>
  {{ p.Nombre.charAt(0).toUpperCase() }}
</div>

<!-- <div style="color: rgb(0, 0, 0);font-weight: bold;background: rgb(231, 231, 231);border-radius: 10px;text-align: center;font-size: 11px;margin-top: 6px;">
  {{p.to}}
</div> -->

<div style="background: #fff;height: 100%; text-align: center;">
<ion-grid style="padding: 0px;display: none;">
<ion-row   [ngStyle]="{
    'background-image': 'url(' + p.img + ')',
    'width': '75px',
    'padding-top': '57px',
    'height': '75px',
    'display': 'inline-table',
    'border-radius': '17px',
    'background-size': 'cover',
    'background-position': 'center'
  }">
<ion-row style="background: #fff;border-bottom-left-radius: 14px;border-bottom-right-radius: 14px;">
     <ion-col size="3" style="padding: 0px;">
<img src="../../../assets/icon/diamante.png" style="width: 15px;height: 15px;border-radius: 17px;">

  </ion-col>
    <ion-col size="3">
<img src="../../../assets/icon/estrella.png" style="width: 15px;height: 15px;border-radius: 17px;">

  </ion-col>
    <ion-col size="3">
<img src="../../../assets/icon/corazon.png" style="width: 15px;height: 15px;border-radius: 17px;">

  </ion-col>
   <ion-col size="3">
<img src="../../../assets/icon/transferencia-movil.png" style="width: 15px;height: 15px;border-radius: 17px;">

  </ion-col>
</ion-row>
  </ion-row>

</ion-grid>

</div>
                 
                  </ion-col>
              
                  <ion-col size-lg="8.3" size="8.3" style="background: #fff;padding: 2px;padding-top: 0px;">
                    <div style="color: white;font-size: 18px;background: #fff; " >
                      <div style="white-space: nowrap;text-overflow: ellipsis;width: 100%;font-size: 16px;color: #000;font-family: -apple-system,
                       BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;">{{p.Nombre}} 
                    
                    </div>
                      
              <div style="color: rgb(200, 200, 200);font-size:12px;width: 100px;padding: 0px;
                     white-space: nowrap;text-overflow: ellipsis;width: 100%;
                      ">
                      <ion-row>
                        <ion-col *ngIf="p.last === 'owner'" size="0.7" style="padding-top: 0px;">
                        <ion-icon  name="checkmark-done-outline"
                         style="margin-right: 0px;color: rgb(124, 124, 124);font-size: 14px;margin-top:3px"></ion-icon>

                        </ion-col>
                        <ion-col size="11.1" style="padding-top: 2px;padding-left: 2px;color: #000;">
                      <div style="font-size: 14px;font-weight: 200;color: #101010;font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
                        {{ p.text.length > 45 ? (p.text | slice:0:45) + 'â€¦' : p.text }}</div>
                       
                        </ion-col>
                            <ion-col size="12" style="padding-top: 2px;padding-left: 2px;color: #000;">
                
                           <div style="font-size: 12px;margin-top: 0px;color: #606060;font-family:
                            -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;" > 
                             {{ p.to?.startsWith('521') ? p.to.slice(3) : p.to }}</div>
                        </ion-col>
                      </ion-row>
                    
                    </div>
                      <div style="color: rgb(149, 149, 149);font-size: 11px;margin-top: 0px;display: none;">
                        <ion-icon name="call" style="margin-right: 2px;color: cyan;font-size: 8px;"></ion-icon>
                        {{ p.Contact }}
                        <div *ngIf="p.Tag !== 'No tag'" style="margin-left: 5px;padding-bottom: 2px;padding-top:2px;padding-left: 7px;padding-right:7px;
                        text-align: center; background: rgb(41, 41, 41);color: white;border-radius: 15px;width: 100px; display: inline-block;font-weight: bold;">
                          {{p.Tag}}
                        </div>
<div>

</div>

                     
                      </div>

                    </div>
                  </ion-col>
                  <ion-col size="1.4" style="padding: 0px;">
 
                    <div style="font-size: 9px;text-align: center;color: rgb(113, 113, 113);
                    background: #ffffff00;height: 100%;margin-top: 0px;margin-bottom: 3px;">
                      <span *ngIf="this.fechaActual === p.fecha">{{p.hr}}</span>
                      <span *ngIf="this.fechaActual !== p.fecha" style="font-size: 12px;"> {{p.hr}}</span>
                      <br>
                      <div *ngIf="p.last === 'Client'" style="height: 21px;width: 21px;border-radius: 50%;background: rgb(12, 146, 103)
                      ;margin-left: 12px;margin-top: 4px;color: white;padding-top: 3px;font-size: 12px;"> 1 </div>
                    </div>
                  </ion-col>
                  <ion-ripple-effect>
                  
                  </ion-ripple-effect>
                </ion-row>
              </ion-grid>
        
              <div style="text-align: center;background: rgb(245, 245, 245);height: 0.5px;width: 100%;margin-top:13px"></div>
            </div>

          
            </div>
 
  
  </ion-list>

  
</ion-content>
