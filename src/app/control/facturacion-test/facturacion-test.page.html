<!-- <ion-header>
  <ion-toolbar>
    <ion-title>üß™ Facturaci√≥n ‚Äì TEST</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-button expand="block" (click)="crearCliente()">
    1Ô∏è‚É£ Crear Cliente TEST
  </ion-button>

  <ion-button expand="block" (click)="crearProducto()">
    2Ô∏è‚É£ Crear Producto TEST
  </ion-button>

  <ion-button expand="block" color="success" (click)="crearFactura()">
    3Ô∏è‚É£ Crear Factura TEST
  </ion-button>

  <ion-button expand="block" color="primary" (click)="descargarPDF()" [disabled]="!facturaId">
    üìÑ Descargar PDF
  </ion-button>

  <ion-button expand="block" color="secondary" (click)="descargarXML()" [disabled]="!facturaId">
    üßæ Descargar XML
  </ion-button>

  <ion-button expand="block" color="danger" (click)="cancelarFactura()" [disabled]="!facturaId">
    ‚ùå Cancelar Factura
  </ion-button>

</ion-content> -->



<ion-header>
  <ion-toolbar>
    <ion-title>üßæ Facturaci√≥n ‚Äî LIVE</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

<ion-card>
  <ion-card-header>
    <ion-card-title>Cliente</ion-card-title>
  </ion-card-header>

  <ion-card-content>

    <!-- DATOS GENERALES -->
    <ion-item>
      <ion-label position="stacked">Nombre legal</ion-label>
      <ion-input [(ngModel)]="cliente.legal_name"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">RFC</ion-label>
      <ion-input [(ngModel)]="cliente.tax_id"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">R√©gimen fiscal</ion-label>
      <ion-input [(ngModel)]="cliente.tax_system" placeholder="626"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Email</ion-label>
      <ion-input [(ngModel)]="cliente.email" type="email"></ion-input>
    </ion-item>

    <!-- DOMICILIO FISCAL -->
    <ion-text color="medium">
      <h3 style="margin-top:15px;">Domicilio Fiscal</h3>
    </ion-text>

    <ion-item>
      <ion-label position="stacked">Calle</ion-label>
      <ion-input [(ngModel)]="cliente.address.street"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">N√∫mero exterior</ion-label>
      <ion-input [(ngModel)]="cliente.address.exterior"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">N√∫mero interior (opcional)</ion-label>
      <ion-input [(ngModel)]="cliente.address.interior"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Colonia</ion-label>
      <ion-input [(ngModel)]="cliente.address.neighborhood"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Ciudad</ion-label>
      <ion-input [(ngModel)]="cliente.address.city"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Municipio</ion-label>
      <ion-input [(ngModel)]="cliente.address.municipality"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">C√≥digo Postal</ion-label>
      <ion-input [(ngModel)]="cliente.address.zip" type="number"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Estado (SAT)</ion-label>
      <ion-input [(ngModel)]="cliente.address.state" placeholder="SON, CMX, JAL"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Pa√≠s</ion-label>
      <ion-input [(ngModel)]="cliente.address.country" disabled></ion-input>
    </ion-item>

    <ion-button expand="block" (click)="crearCliente()">
      Crear / Actualizar Cliente
    </ion-button>

    <div *ngIf="clienteId">ID Cliente: {{ clienteId }}</div>

  </ion-card-content>
</ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Producto / Servicio</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">Descripci√≥n</ion-label>
        <ion-input [(ngModel)]="producto.description"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Clave Producto</ion-label>
        <ion-input [(ngModel)]="producto.product_key"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Clave Unidad</ion-label>
        <ion-input [(ngModel)]="producto.unit_key"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Precio unitario</ion-label>
        <ion-input [(ngModel)]="producto.price" type="number"></ion-input>
      </ion-item>

      <ion-button expand="block" (click)="crearProducto()">Crear/Actualizar Producto</ion-button>
      <div *ngIf="productoId">ID Producto: {{ productoId }}</div>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Factura</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">Uso del CFDI</ion-label>
        <ion-input [(ngModel)]="factura.use" placeholder="G03"></ion-input>
      </ion-item>

      <ion-button expand="block" color="success" (click)="crearFactura()">Generar Factura (live)</ion-button>

      <ion-button expand="block" color="primary" (click)="descargarPDF()" [disabled]="!facturaId">
        üìÑ Descargar PDF
      </ion-button>

      <ion-button expand="block" color="medium" (click)="descargarXML()" [disabled]="!facturaId">
        üßæ Descargar XML
      </ion-button>

      <ion-button expand="block" color="danger" (click)="cancelarFactura()" [disabled]="!facturaId">
        ‚ùå Cancelar Factura
      </ion-button>

      <div *ngIf="facturaId" style="margin-top:10px">ID Factura: {{ facturaId }}</div>
    </ion-card-content>
  </ion-card>

</ion-content>
