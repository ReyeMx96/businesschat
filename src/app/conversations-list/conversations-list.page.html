<ion-header>
  <ion-toolbar color="dark" style="box-shadow: 1px;" mode="md">
    <ion-buttons style="display: none;" slot="start">
    <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-select style="display: none;" id="selectChange" (ionChange)="selectOption($event)">
      <ion-select-option *ngFor="let option of arrayNumbers" [value]="option">{{ option }}</ion-select-option>
    </ion-select>

    <ion-buttons slot="start" style="display: none;">   <img src="../assets/icon/icon-384x384.png"  
       routerLink="/home" style="height: 38px; width: 42px;" alt="Snow" ></ion-buttons>

    <ion-title (click)="getOptions()" style="font-size:22px"> 
       <b style="margin-bottom: 25px;letter-spacing: 1px;">
        Business Chat <br>
      <ion-icon name="star" style="color: yellow;font-size: 10px;display: none;"></ion-icon>
     <b style="color: rgb(173, 173, 173);font-size: 11px;display: none; "> Empresa Nivel 2</b>

      </b> </ion-title>

    <ion-buttons style="display: none;" (click)="getOptions()" slot="start">
      <ion-button>

        <ion-icon name="sync-circle-outline" style="font-size: 30px;"></ion-icon>

      </ion-button>

      </ion-buttons>
    
    <ion-buttons routerLink="/tabs/clientes" style="padding-right:8px" slot="end" >
      <ion-button>
        <ion-icon name="search" >
        
        </ion-icon>
              </ion-button>
    </ion-buttons>

    <ion-buttons  slot="end" >
      <ion-button>
        <ion-icon name="ellipsis-vertical" >
        
        </ion-icon>
              </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content style="--background: #202329;">
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <div style="display: none;" class="price-container">
    <div *ngFor="let item of arrayTags;" class="price-tag">{{item.Name}}</div>
   
</div>

  <ion-fab (click)="addContact()" vertical="bottom"  horizontal="end" slot="fixed">
    <ion-fab-button style="height: 60px;width: 60px;">
      <img src="../../../assets/icon/bubble.png" style="width: 35px;height: 35px;">
      
    </ion-fab-button>
  </ion-fab>

  <ion-list *ngIf="menuLength === 0" style="padding: 0px;" >
    <ion-list-header color="dark">
      <ion-skeleton-text [animated]="true" style="width: 80px"></ion-skeleton-text>
    </ion-list-header>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
    <ion-item color="dark">
      <ion-thumbnail slot="start">
        <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      </ion-thumbnail>
      <ion-label>
        <h3>
          <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text [animated]="true" style="width: 30%;"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-list *ngIf="menuLength !== 0" color="dark" style="padding: 0px;background: #202329;" st id="inbox-list">
      
          <div *ngFor="let p of menuOptionsCache; let i = index">
            
            <div class="ion-activatable ripple-parent rounded-rectangle" style="margin-top: 10px;">
              <ion-grid style="background: #202329;">
                <ion-row (click)="goChat(p.to)">
                  <ion-col size="2.7" style="padding: 0px;">
<div style="background: #202329;height: 100%; text-align: center;">
<ion-grid style="padding: 0px;">
<ion-row   [ngStyle]="{
    'background-image': 'url(' + p.img + ')',
    'width': '75px',
    'padding-top': '57px',
    'height': '75px',
    'display': 'inline-table',
    'border-radius': '17px',
    'background-size': 'cover',
    'background-position': 'center'
  }">
<ion-row style="background: #111;border-bottom-left-radius: 14px;border-bottom-right-radius: 14px;">
     <ion-col size="3" style="padding: 0px;">
<img src="../../../assets/icon/diamante.png" style="width: 15px;height: 15px;border-radius: 17px;">

  </ion-col>
    <ion-col size="3">
<img src="../../../assets/icon/estrella.png" style="width: 15px;height: 15px;border-radius: 17px;">

  </ion-col>
    <ion-col size="3">
<img src="../../../assets/icon/corazon.png" style="width: 15px;height: 15px;border-radius: 17px;">

  </ion-col>
   <ion-col size="3">
<img src="../../../assets/icon/transferencia-movil.png" style="width: 15px;height: 15px;border-radius: 17px;">

  </ion-col>
</ion-row>
  </ion-row>

</ion-grid>

</div>
                 
                  </ion-col>
              
                  <ion-col size="8.1" style="background: #202329;padding: 2px;padding-top: 0px;">
                    <div style="color: white;font-size: 18px;background: #202329; " >
                      <b style="white-space: nowrap;text-overflow: ellipsis;width: 100%;font-size: 16px;">{{p.name}}</b>
                      <br>
              <div style="color: rgb(200, 200, 200);font-size:12px;width: 100px;padding: 0px;
                     white-space: nowrap;text-overflow: ellipsis;width: 100%;
                      ">
                      <ion-row>
                        <ion-col *ngIf="p.last === 'owner'" size="0.9" style="padding-top: 0px;">
                        <ion-icon  name="checkmark-done-outline"
                         style="margin-right: 0px;color: rgb(193, 193, 193);font-size: 14px;margin-top:3px"></ion-icon>

                        </ion-col>
                        <ion-col size="7" style="padding-top: 2px;padding-left: 2px;">
                      {{ p.text.length > 45 ? (p.text | slice:0:45) + 'â€¦' : p.text }}

                        </ion-col>
                      </ion-row>
                    
                    </div>
                      <div style="color: rgb(149, 149, 149);font-size: 11px;margin-top: 0px;">
                        <ion-icon name="call" style="margin-right: 2px;color: darkcyan;font-size: 8px;"></ion-icon>
                        {{ p.to }}
                        <div *ngIf="p.Tag !== 'No tag'" style="margin-left: 5px;padding-bottom: 2px;padding-top:2px;padding-left: 7px;padding-right:7px;
                        text-align: center; background: rgb(41, 41, 41);color: white;border-radius: 15px;width: 100px; display: inline-block;font-weight: bold;">
                          {{p.tag}}
                        </div>
<div>

</div>

                     
                      </div>

                    </div>
                  </ion-col>
                  <ion-col size="1.2" style="padding: 0px;">
 
                    <div style="font-size: 9px;text-align: center;color: rgb(180, 180, 180);
                    background: #202329;height: 100%;margin-top: 0px;">
                   <b>{{ p.tstlast }}</b>

                      <b *ngIf="this.fechaActual !== p.fecha" style="font-size: 9px;"> <br>{{p.hr}}</b>
                      <br>
                      <div *ngIf="p.last === 'Client'" style="height: 21px;width: 21px;border-radius: 50%;background: rgb(12, 146, 103)
                      ;margin-left: 15px;margin-top: 4px;color: white;padding-top: 3px;font-size: 12px;"> 1 </div>
                    </div>
                  </ion-col>
                  <ion-ripple-effect>
                  
                  </ion-ripple-effect>
                </ion-row>
              </ion-grid>
        
              <div style="text-align: center;background: rgb(46, 46, 46);height: 0.5px;width: 100%;"></div>
            </div>
            
               <div style="text-align: center;background: rgb(46, 46, 46);height: 0.5px;width: 100%;">

               </div>
          
            </div>
 
  
  </ion-list>
</ion-content>
